# Quantitive Trading with R


## 개요

### 목표

- Quantitive trading을 R로 하는 것을 배운다. 시장, 금융상품, 백테스팅, 여러 가지를 배우는 데, R로 프로그래밍화 시키는 것을 배우는갑다. 이렇게 해서 Python으로 갈아탈지도 생각해봐야할 것 같다.

### 금융 시장과 금융 상품

- 금융 시장, 금융 상품은 아무래도 두 개로 나뉘는듯 하다. 옵션, 그리고 주식. CME가 여기서 나오는구나. 비트코인때문에 간접적으로 알게 되었는데, 어마어마한 곳이었군. 나중에 이 장을 다시 와서 거래소가 뭐뭐 있는지 꼭 알아보길 바란다. 여기에 그 유명한 나스닥이 적혀있다. 

- Liquidity. 유동성이 있는 상품이라는 것은 거래량이 있다는 것이다. 내가 원하는 시간에, 원하는 만큼, 원하는 가격에 팔 수 있다는 것은, 유동성이 많다는 것이고, 저 세 가지가 해당하지 않는다면 유동성이 좋지 않다는 것이다. 하지만 저거를 다 나타내는 지표가 바로 거래량이다. 거래량이 많다는 것은, 호가창은 꽉 차있을 확률 높고, 많은 사람들이 사고 팔고를 많이 한다는 것이다. 어떻게 보면 스켈핑(Spread 먹기)를 하는 트레이더들이 많다는 것이라고 생각할 수 있다.

### 트레이딩 전략

- 전략은 여러 개가 있다. 투자자, 트레이더로 유형을 나눈다. 내가 배운 투자자같은 경우에는, 아무래도 트레이딩 시간이 긴 형태의 투자 전략을 이행할거고, 트레이더같은 경우에는 굉장히 길게 들고 가는 투자 전략은 쓰지 않을 것이다. 

- 장기, 단기, 기회 포착, 고빈도, 저지연 등 다양한 유형의 트레이딩 전략이 존재한다.

	- 아무래도, 기회 포착, 고빈도, 저지연과 같은 트레이딩을 한다면, 모니터만 보고 있어야할지도 모른다. 뭐가 나에게 맞는 전략이고, 각각의 전략에 대해서 자세히 살펴보자.

### 고빈도 매매

- 고빈도 매매라고 하면은, 저지연 매매로도 생각할 수 있다. 꼭 시간의 최소 단위가 엄청 적어야 한다고 생각할 수는 없다. 빈도가 많은것에 대한 기준을 어떻게 정하느냐에 따라 다르다. 

	- 마켓 테이킹, 마켓 메이킹과 같은 전략들이 고빈도 매매에서 많이 쓰인다. 마켓 메이킹같은 경우에는 거래소의 유동성을 만들어내는 역할을 하기도 한다. 고빈도로 매매를 하기 때문에 거래량이 많다는 느낌을 줄 것이고, 실질적으로 거래가 많이 일어나고 있다. 그래서 거래소에서 유동성을 주는 사람으로 보상을 준다고도 한다. 마켓 테이팅은 big-ask spread에서 이득을 취하는 것이라고 한다(틱 단위(거래소에서 발생하는 최소의 가격 변화율)로 매매를 한다고 한다). 이 책에서는 이 둘에 대해서 조금 설명이 부족하긴 하다. 조금 더 리서치하길 바란다. 

### 호가창

- 참여자들의 매수, 매도를 알려주는 창이다. 이게 최대 몇 개까지 보여주는지가 궁금하긴 하다. 그리고 비트렉스처럼 어디서부터 어디까지 매수 매도가 어떤 가격에 벽들이 있는지 보기 위해서는 꼭 보고 있어야 하는 지표라 본다. 거래하는 속도가 매우 빠른 코인판에서는 … 솔직히 프로그램을 켜놓고 하는 게 맞을 듯 하다. 

	- 문제는 서버가 버텨주지 않는다는 것. 저거를 scalable 하게 만들 수 있는 기회가 왔으면 좋겠다. 

### 거래 자동화

- 거래 자동화에 대해서 조금 더 자세하고 깊은 내용을 원한다면: Berry Johnson Algorithmic Trading and DMA: An Introduction to Direct Access Trading Strategies

	- http://www.algo-dma.com

- 트레이더의 정의가 이제 많이 바뀌고 있다. 왜 바뀔까? 옛날에는 브로커들이 굉장히 많았다. The Wolf of Wallstreet을 보면, 다 브로커들이다. 중간에서 수수료를 때먹는 것. 하지만 이제는 이 역할을 거래소에서 한다. Hedge Fund 회사들이라던지, 이 회사들은 고빈도 매매를 하기 위해서 해당 거래소의 서버들과 가깝게 지낸다. (일반인 프로그래머 입장에서 초 고빈도 매매를 하기에는 쉽지 않아보인다 ㅠ. 월스트리트에서 한 번은 꼭 일해보자.)

	- 이어서, IT의 발전 및 거래하는 방법이 완전히 혁신이 되어서 전화만 받고 부자들의 돈을 이용해서 주식을 사게 만드는 트레이더들은 더 이상 없어질 확률이 높다. 이제는 시장 움직임에 감각을 가진 동시에 수익성 있는 트레이딩 전략을 개발, 모니터링, 활용할 수 있게 데이터 기반 접근에 능한 기술자가 될 것이라 생각한다. ㅍㅍㅅㅅ에서 읽은 글처럼, 대부분 트레이더들이 공대출신으로 바뀌고 있다고 얘기한 것처럼, 데이터 분석, IT와 조금 더 가까워지고 있다.

### 데이터 구하기

- 데이터는 말 그대로 이 책에 해당 장을 다시 보면 될듯하다. 본격적으로 할 때, 여기에 적어내는 것이 좋아보인다. 추가적으로, 나도 어떠한 데이터를 참고해야할지 찾는 게 중요하고, 나는 코인 관련된 데이터도 집어넣어야 한다.

### 요약

- 가장 인상깊게 읽은 부분들은 아무래도 트레이더의 역할 변화와 거래소들의 IT 혁신으로 인한 거래 방법이 바뀐 것.   데이터 분석이라기보다 데이터 탐험이라는 곳에서 조금 더 흥미를 느껴봐야할 듯하다. 금융 데이터를 제대로 이해하고, 제대로 볼 수 있다면 많은 전략들이 만들어질 것이고, 수익이 더 증가할 것이다.

## 거래 도구

### R 언어

### R 시작

### c() 객체

### matrix() 객체

### data.frame() 객체

### list() 객체

### new.env() 객체

### plot() 함수 사용하기

### 함수형 프로그래밍

### R에서 함수 작성

### 분기와 반복

### 추천하는 스타일 가이드

### 상관관계 예제

### 요약

## 데이터 작업

### R로 데이터 불러오기

### R에서 패키지 설치

### 데이터의 저장과 전달

### 스프레드시트에서 데이터 추출

### 데이터베이스 접근

### Dplyr 패키지 

### xts 패키지 사용

### quantmod 패키지 사용

### quantmod로 그래프 그리기

### ggplot2로 그래프 그리기

### 요약

## 기초 확률 통계

### 통계란?

### 모집단과 표본 집단

### R에서 중심 극한 정리

### 비편향성과 효율성

### 확률 기초

### 확률 변수

### 확률

### 확률 분포

### 베이즈와 빈도학파 접근

### 동전 시뮬레이션

### RSTan 사용

### 요약

## 중급 확률 통계

### 무작위 과정

### 주가 분포

### 정상성

### urca를 이용한 정상성 확인

### 정규성의 가정

### 상관관계

### 데이터 필터링

### R 구조식

### 선형 회귀 분석의 선형성

### 변동성

### 요약

## 스프레드, 베타, 리스크

### 주식 스프레드 정의

### 보통 최소 제곱법과 전체 최소 제곱법

### 스프레드 구성

### 신호 생성과 검증

### 스프레드 거래

### 리스크 고려

### 수익 곡선에서 발견할 수 있는 추가 사항

### 전략 특성

### 요약

## Quantstrat를 활용한 백테스팅

### 백테스팅 방법

### blotter와 PerformanceAnalytics

### 초기 설치

### 첫 번째 전략: 단순한 추세 추종

### 첫 번째 전략 백테스팅

### 성과 평가

### 두 번째 전략: 누적 Connors RSI

### 평균 회귀 전략 평가

### 요약

## 고빈도 데이터

### 고빈도 호가

### 호가 간 도착 시간

### 유동성 국면 확인

### 마이크로 가격

### 분포와 자기 상관

### highfrequency 패키지

### 요약

## 옵션

### 옵션의 이론 가치

### 옵션의 역사

### 옵션의 가치

### 옵션 거래 데이터 살펴보기

### 내재 변동성

### 요약

## 최적화

### 동기를 유발하는 포물선

### 뉴턴법

### 무작위 대입법

### R 최적화 순서

### 곡선 맞춤 예제

### 포트폴리오 최적화

### 요약

## 속도, 테스트, 리포팅

### 실행 시간 개선

### R 코드 벤치마킹

### Rcpp 솔루션

### Rinside로 C++에서 R 호출

### testthat으로 단위 테스트 작성

### knitr을 이용한 문서화

### 요약

### 미주

### 참고 자료

